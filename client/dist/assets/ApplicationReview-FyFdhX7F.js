import{b as w,r as i,u as b,d as x,f as y,g as p,j as r,e as d,F as v,B as t,s as N}from"./index-MSa4Xrv_.js";import{S as m}from"./sweetalert2.all-CuoLsYrO.js";const C=()=>{const{mentor:o}=w(),[e,h]=i.useState(),a=b(),c=x(),u=async n=>{m.fire({title:"Approve Application",text:"Are you sure to procced ?",showCancelButton:!0,icon:"warning"}).then(async l=>{if(l.isConfirmed)try{if(o){const s=await c.patch(`/admin/single-application/approve/${n}`,{},{withCredentials:!0});s.data&&s.data.status=="success"&&(t.success(s.data.message),a("/admin/mentor-application"))}}catch(s){console.log(s),t.error("Approval Failed")}})},f=async n=>{m.fire({title:"Reject Application",text:"Proceed with Action ?",showCancelButton:!0,icon:"warning"}).then(async l=>{if(l.isConfirmed)try{if(o){const s=await c.patch(`/admin/single-application/reject/${n}`,{},{withCredentials:!0});s.data.status==="success"&&(t.success(s.data.message),a("/admin/mentor-application"))}}catch(s){console.log(s),t.error("Reject Failed")}})};return i.useEffect(()=>{(async()=>{try{const l=await c.get(`/admin/single-application/${o}`,{withCredentials:!0});if(l.data){console.log(l.data);const s=l.data.applications[0];h(s)}}catch{t.error("Something went wrong")}})()},[o,c]),i.useEffect(()=>{const n=e==null?void 0:e.profile_img;if(n){const l=y(N,n);p(l).then(s=>{const g=document.getElementById("profile-image");g.src=s}).catch(s=>{console.log(s)})}},[e]),r(v,{children:r("div",{className:"w-full h-full bg-background-two",children:r("div",{className:"w-full h-full flex justify-center",children:d("figure",{className:"rounded-xl p-8 w-full md:w-2/3 bg-gray-800",children:[d("div",{children:[r("img",{className:"w-24 h-24 rounded-md",id:"profile-image",alt:""}),d("div",{className:"pt-6 space-y-4 text-gray-400",children:[d("div",{className:"flex gap-3",children:["Name:",d("h1",{children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]})]}),d("div",{className:"flex gap-3",children:["Email:",r("h1",{children:e==null?void 0:e.mentorEmail})]}),d("div",{className:"flex gap-3",children:["Job Title: ",r("h1",{children:e==null?void 0:e.job_title})]}),d("div",{className:"flex gap-3",children:["Company: ",r("h1",{children:e==null?void 0:e.company})]}),d("div",{className:"flex gap-3",children:["State: ",r("h1",{children:e==null?void 0:e.state})]}),r("div",{children:r("p",{className:"font-semibold",children:e==null?void 0:e.bio})}),r("div",{children:r("div",{className:"flex flex-row placeholder:text-bold flex-wrap p-2.5 w-full text-sm text-gray-900 bg-gray-800 rounded-lg overflow-x-scroll",children:e==null?void 0:e.skills.map(n=>r("span",{className:"font-bold text-gray-400 mt-1 text-md rounded border px-1 py-1 ml-2",children:n}))})}),d("div",{children:[d("h1",{className:"font-semibold",children:["Why do you want to be a Mentor ?",r("br",{}),r("span",{children:" Answer:"})]}),r("textarea",{rows:6,className:"w-full border border-background-two bg-gray-800 rounded-md py-1 px-1 font-semibold",disabled:!0,value:e==null?void 0:e.why_mentor})]}),d("div",{children:[d("h1",{className:"font-semibold",children:["What is your Biggest Achievement ?",r("br",{}),r("span",{children:" Answer:"})]}),r("textarea",{rows:6,className:"w-full border border-background-two bg-gray-800 rounded-md py-1 px-2",disabled:!0,value:e==null?void 0:e.why_mentor}),r("small",{children:"Above questions were asked when mentor applied"})]})]})]}),d("div",{className:"w-full flex justify-center md:justify-end gap-4 py-4",children:[r("button",{className:"px-3 py-1 border rounded-md bg-red-500",onClick:()=>f(e==null?void 0:e._id),children:"Reject"}),r("button",{className:"px-3 py-1 border rounded-md bg-color-five text-white",onClick:()=>u(e==null?void 0:e._id),children:"Approve"})]})]})})})})};export{C as default};
