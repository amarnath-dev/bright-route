import{d as c,u,e as s,j as e,F as h,B as o,Q as p}from"./index-BH-Ykf6z.js";import{z as l,u as g,t as b}from"./zod-Cp77Ab6V.js";import{S as x}from"./sweetalert2.all-D9aI5KS5.js";const f=a=>!/\d/.test(a),v=l.object({planAmount:l.string().refine(a=>parseInt(a,10)>=500,{message:"Plan amount must be at least 500"}).refine(a=>parseInt(a,10)<=1e4,{message:"Plan amount must be at most 10000"}).refine(a=>a.trim()!=="",{message:"Plan amount should not be empty"}),planType:l.string().min(1,"Plan type is required"),planDescription:l.string({invalid_type_error:"Description should not contain numbers",required_error:"Field is required"}).min(50,{message:"Enter at least 50 characters"}).max(150,{message:"Keep it less than 150 characters"}).refine(f,{message:"Description should not contain numbers"}).refine(a=>a.trim()!=="",{message:"Description should not be empty"}),videoCallSession:l.string({invalid_type_error:"This fields is required"}).refine(a=>a.trim()!=="",{message:"This field is required should not be empty"}),videoCallCount:l.string({invalid_type_error:"Video call Count is required"}).refine(a=>a.trim()!=="",{message:"Video call count should not be empty"}).refine(a=>parseInt(a,10)>0,{message:"Video call count must be greater than zero"}),chatSessions:l.string({invalid_type_error:"This fields is required"}).min(1,{message:"Chat sessions is required"}),handsOnSupport:l.string({invalid_type_error:"This fields is required"}).min(1,{message:"Hands-on support is required"})}),C=()=>{const a=c(),d=u(),{register:r,handleSubmit:m,formState:{errors:t}}=g({resolver:b(v)});return s(h,{children:[e(p,{className:"w-40 md:w-80 "}),e("div",{className:"w-full h-screen fill-rule bg-background-two",children:e("div",{id:"crud-modal",tabIndex:-1,"aria-hidden":"true",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full flex justify-center",children:e("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e("div",{className:"relative rounded-lg shadow-xl",children:s("form",{className:"p-4 md:p-5 bg-gray-800 text-white rounded-md",onSubmit:m(async n=>{if(n.planType==="Select Type"){o.error("Please select a plan type");return}console.log("Form",n);try{const i=await a.post("/mentor/plans/create",n,{withCredentials:!0});if(i.data.status==="success")o.success(i.data.message),d("/mentor/plans");else if(i.data.status==="exists"){x.fire({title:"Plan limit exceeded",text:"Each mentor can only have two plans"});return}}catch(i){o.error("Please try again."),console.error(i)}}),children:[s("div",{className:"grid gap-4 mb-4 grid-cols-2",children:[s("div",{className:"col-span-2 sm:col-span-1",children:[e("label",{htmlFor:"price",className:"block mb-2 text-sm font-medium",children:"Enter the Amount"}),e("input",{type:"number",id:"price",className:"bg-gray-800 border border-gray-300 text-md rounded-lg block w-full p-2.5",placeholder:"Eg: 3999",...r("planAmount")}),t.planAmount&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.planAmount.message]})]}),s("div",{className:"col-span-2 sm:col-span-1",children:[e("label",{htmlFor:"category",className:"block mb-2 text-sm font-medium",children:"Plan Type"}),s("select",{id:"category",className:"bg-gray-800 border border-gray-300 text-md rounded-lg block w-full p-2.5",...r("planType"),children:[e("option",{children:"Select Type"}),e("option",{value:"Lite Plan",children:"Lite Plan"}),e("option",{value:"Standard Plan",children:"Standard Plan"})]}),t.planType&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.planType.message]})]}),e("div",{className:"w-96",children:e("h1",{className:"text-sm",children:"The plan amount should be fair and not too high."})}),s("div",{className:"col-span-2",children:[e("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium",children:"Plan Description"}),e("textarea",{id:"description",rows:4,className:"block p-2.5 w-full text-sm bg-gray-800 rounded-lg border border-gray-300",placeholder:"Write plan description here...",...r("planDescription")}),t.planDescription&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.planDescription.message]})]}),s("div",{className:"w-96",children:[e("h1",{className:"font-bold",children:"Please Select the services"}),s("div",{className:"flex items-center mt-3",children:[e("input",{id:"videoCallSession",type:"checkbox",value:"Video Call Sessions",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",...r("videoCallSession")}),e("label",{htmlFor:"videoCallSession",className:"ms-2 text-sm font-medium text-white",children:"Video Call Sessions (Weekly)"}),s("div",{children:[e("label",{htmlFor:"video_call_count",className:"ml-2",children:e("strong",{children:" Count :"})}),e("input",{type:"number",className:"w-10 ml-2 px-1 rounded bg-gray-800",max:5,min:0,...r("videoCallCount")})]})]}),t.videoCallCount&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.videoCallCount.message]}),t.videoCallSession&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.videoCallSession.message]}),s("div",{className:"flex items-center mt-3",children:[e("input",{id:"chatSessions",type:"checkbox",value:"Unlimited Q&A via chat",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded",...r("chatSessions")}),e("label",{htmlFor:"chatSessions",className:"ms-2 text-sm font-medium text-white",children:"Q&A via chat"})]}),t.chatSessions&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.chatSessions.message]}),s("div",{className:"flex items-center mt-3",children:[e("input",{id:"handsOnSupport",type:"checkbox",value:"Hands-on support",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",...r("handsOnSupport")}),e("label",{htmlFor:"handsOnSupport",className:"ms-2 text-sm font-medium text-white",children:"Hands-on support"})]}),t.handsOnSupport&&s("small",{className:"text-red-500 text-sm italic",children:["*",t.handsOnSupport.message]})]})]}),e("div",{className:"w-full",children:e("button",{type:"submit",className:"text-white w-full bg-color-one hover:bg-teal-700 font-medium rounded-lg text-sm px-5 py-2.5",children:"Add Plan"})})]})})})})})]})};export{C as default};
