import{d as h,r as c,u as n,j as e,L as u,e as g,s as j,g as y}from"./index-86Yayage.js";import{N,a as w}from"./Navbar-0-KNhTVm.js";import{d as v,a as p}from"./Payments-VnsdLa63.js";import"./Toast-dXC0qYzS.js";import"./index-f5koxsUU.js";import"./index--BIcSTSf.js";/* empty css                     */import"./generateUtilityClasses-VEjm-6px.js";import"./createSvgIcon-zHam7nvJ.js";import"./createSvgIcon-yiNXXGgx.js";import"./useTimeout-HibEo2wx.js";import"./ownerWindow-X7CmOzzf.js";const C=()=>{const l=h(),[t,d]=c.useState(),m=n();return c.useEffect(()=>{(async()=>{try{const s=await l.get("/mentee/expired",{withCredentials:!0});console.log(s.data.expired),s.data.status==="success"&&d(s.data.expired)}catch(s){console.log(s)}})()},[l]),c.useEffect(()=>{t&&t.length>0&&(async()=>{try{const i=await Promise.all(t.map(async r=>{var o;const a=(o=r==null?void 0:r.mentorDetails)==null?void 0:o.profile_img;if(a){const x=g(j,a),f=await y(x);return{...r,profile_img:f}}else return r}));d(i)}catch(i){console.log(i)}})()},[t==null?void 0:t.length]),e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx("div",{className:"w-full h-full md:h-screen bg-background-two",children:t&&(t==null?void 0:t.length)===0?e.jsx("div",{className:"w-full h-screen flex justify-center items-center flex-col",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-400",children:"Your Mentor History is Empty"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-2 md:px-10 md:py-10 w-full",children:[e.jsx("div",{className:"py-5 font-bold text-2xl",children:e.jsx("h1",{className:"text-white",children:"My History"})}),e.jsx("hr",{}),e.jsx("div",{className:"flex flex-col md:flex-row w-full h-full flex-wrap py-3",children:t==null?void 0:t.map((s,i)=>{var r,a,o;return e.jsx("div",{className:"px-1",children:e.jsxs("figure",{className:"md:w-96 min-h-full rounded-xl p-8 shadow-md md:shadow-lg bg-gray-800 mt-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("img",{className:"w-24 h-24 rounded-full object-cover",alt:"profile_img",src:s!=null&&s.profile_img?s==null?void 0:s.profile_img:w}),e.jsxs("div",{className:"px-2 py-2 font-bold",children:[e.jsxs("h1",{className:"text-xl text-white",children:[(r=s==null?void 0:s.mentorDetails)==null?void 0:r.first_name,(a=s==null?void 0:s.mentorDetails)==null?void 0:a.last_name]}),e.jsx("h1",{className:"mt-2 uppercase text-sm text-white",children:(o=s==null?void 0:s.mentorDetails)==null?void 0:o.job_title})]})]}),e.jsx("div",{className:"pt-6 space-y-4",children:e.jsxs("figcaption",{children:[e.jsxs("div",{className:"flex justify-around",children:[e.jsx("button",{className:"border px-2 py-2 rounded-md text-black",onClick:()=>{m(`/my-mentors/paymentDetails/${s==null?void 0:s._id}`)},children:e.jsx(v,{className:"text-gray-300"})}),e.jsx(u,{to:`/mentor/chat/${s==null?void 0:s.mentee_id}`,className:"border px-2 py-2 rounded-md text-black",children:e.jsx(p,{className:"text-gray-300"})})]}),e.jsx("div",{className:"px-3",children:e.jsx("h1",{className:"py-2 text-md font-bold text-red-400",children:"Plan Expired"})})]})})]})},i)})})]})})})]})};export{C as default};
