import{d as h,r as c,u as n,j as e,L as u,e as g,s as j,g as N}from"./index-OOUbbyCE.js";import{N as y,a as w}from"./Navbar-sNVkRa_d.js";import{d as v,a as _}from"./Payments-cxjg-3AO.js";import"./Toast-_tPr2boB.js";import"./index-ry2Amagv.js";import"./index-5l9d6-G0.js";/* empty css                     */import"./generateUtilityClasses-o__dUuSr.js";import"./createSvgIcon-pQwWrd8a.js";import"./createSvgIcon-4WGjJCwP.js";import"./useTimeout-d6sbsx6h.js";import"./ownerWindow-bNUyy386.js";const C=()=>{const l=h(),[t,m]=c.useState(),d=n();return c.useEffect(()=>{(async()=>{try{const s=await l.get("/mentor/expired",{withCredentials:!0});s.data.status==="success"&&m(s.data.expired)}catch(s){console.log(s)}})()},[l]),c.useEffect(()=>{t&&t.length>0&&(async()=>{try{const i=await Promise.all(t.map(async r=>{var o;const a=(o=r==null?void 0:r.menteeDetails)==null?void 0:o.profile_img;if(a){const x=g(j,a),f=await N(x);return{...r,profile_img:f}}else return r}));console.log(i),m(i)}catch(i){console.log(i)}})()},[t==null?void 0:t.length]),e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"w-full h-full md:h-screen bg-background-two",children:t&&(t==null?void 0:t.length)===0?e.jsx("div",{className:"w-full h-screen flex justify-center items-center flex-col",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-400",children:"Your Mentee History is Empty"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-2 md:px-10 md:py-10 w-full",children:[e.jsx("div",{className:"py-5 font-bold text-2xl",children:e.jsx("h1",{className:"text-white",children:"My Mentee History"})}),e.jsx("hr",{}),e.jsx("div",{className:"flex flex-col md:flex-row w-full h-full flex-wrap py-3",children:t==null?void 0:t.map((s,i)=>{var r,a,o;return e.jsx("div",{className:"px-1",children:e.jsxs("figure",{className:"md:w-96 min-h-full rounded-xl p-8 shadow-md md:shadow-lg bg-gray-800 mt-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("img",{className:"w-24 h-24 rounded-full object-cover",alt:"profile_img",src:s!=null&&s.profile_img?s==null?void 0:s.profile_img:w}),e.jsxs("div",{className:"px-2 py-2 font-bold",children:[e.jsxs("h1",{className:"text-xl text-white",children:[(r=s==null?void 0:s.menteeDetails)==null?void 0:r.first_name,(a=s==null?void 0:s.menteeDetails)==null?void 0:a.last_name]}),e.jsx("h1",{className:"mt-2 uppercase text-sm text-white",children:(o=s==null?void 0:s.menteeDetails)==null?void 0:o.job_title})]})]}),e.jsx("div",{className:"pt-6 space-y-4",children:e.jsxs("figcaption",{children:[e.jsxs("div",{className:"flex justify-around",children:[e.jsx("button",{className:"border px-2 py-2 rounded-md text-black",onClick:()=>{d(`/mentor/mentees/paymentdetails/${s==null?void 0:s._id}`)},children:e.jsx(v,{className:"text-gray-300"})}),e.jsx(u,{to:`/mentor/chat/${s==null?void 0:s.mentee_id}`,className:"border px-2 py-2 rounded-md text-black",children:e.jsx(_,{className:"text-gray-300"})})]}),e.jsx("div",{className:"px-3",children:e.jsx("h1",{className:"py-2 text-md font-bold text-red-400",children:"Plan Expired"})})]})})]})},i)})})]})})})]})};export{C as default};
