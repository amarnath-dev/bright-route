import{p as d,u as R,h as H,d as z,j as a,F as h,e as o,m as O,k,l as q}from"./index-BH-Ykf6z.js";import{j as u}from"./generateUtilityClasses-HJM5CisE.js";import{r as c}from"./createSvgIcon-BIW1WnVJ.js";import{S as f}from"./sweetalert2.all-D9aI5KS5.js";var m={},A=u;Object.defineProperty(m,"__esModule",{value:!0});var w=m.default=void 0,L=A(c()),T=d;w=m.default=(0,L.default)((0,T.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var x={},V=u;Object.defineProperty(x,"__esModule",{value:!0});var _=x.default=void 0,F=V(c()),I=d;_=x.default=(0,F.default)((0,I.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99"}),"Call");var v={},B=u;Object.defineProperty(v,"__esModule",{value:!0});var N=v.default=void 0,E=B(c()),P=d;N=v.default=(0,E.default)((0,P.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat");var p={},Y=u;Object.defineProperty(p,"__esModule",{value:!0});var j=p.default=void 0,G=Y(c()),W=d;j=p.default=(0,G.default)((0,W.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23z"}),"Stars");const X=({mentorPlans:l,mentor:y,onChildData:C,setMentorPlans:b})=>{const S=R(),n=H(),g=z(),$=()=>{C()},D=async e=>{f.fire({title:"Delete this Plan",text:"Are you sure you want to delete this plan",icon:"warning",showCancelButton:!0,cancelButtonText:"No, Cancel",showLoaderOnConfirm:!0}).then(async s=>{if(s.isConfirmed)try{if((await g.delete(`/mentor/plans/delete/${e}`,{withCredentials:!0})).data.status==="success"){const r=l==null?void 0:l.filter(i=>i._id!==e);r&&(b(r),$())}else console.log("Delete Failed")}catch(t){console.log(t)}})},M=async(e,s,t)=>{try{const i=await g.get(`/check/${s}`,{withCredentials:!0});if(i.data.status==="spots"){f.fire({title:"This Mentor has No Spots Left",icon:"info"});return}if(i.data.status==="exists"){f.fire({title:"You have already applied to a mentor",text:"You can only apply to one plan in a month"});return}}catch(i){console.log(i)}const r=t.toString();n(O({mentor_plan_id:e})),n(k({mentor_id:s})),n(q({plan_amount:r})),S(`/mentorship/apply/${e}`)};return a(h,{children:a("div",{className:"w-full h-full flex justify-around flex-col md:flex-row px-6 gap-4 md:px-0",children:l==null?void 0:l.map((e,s)=>a(h,{children:e!=null&&e.isDeleted?"":o("div",{className:"w-full md:mt-0 md:w-1/3 h-full bg-gray-800 rounded-lg",children:[o("div",{className:"px-3 py-3 relative",children:[a("h1",{className:"text-xl font-bold text-white",children:e==null?void 0:e.planType}),a("span",{className:"flex justify-end absolute top-0 right-2 mt-3",onClick:()=>D(e==null?void 0:e._id),children:y&&a(w,{className:"cursor-pointer text-gray-300 hover:bg-gray-600 rounded-full"})})]}),a("div",{className:"px-3 py-3",children:o("h1",{className:"text-4xl font-extrabold text-white",children:[e==null?void 0:e.planAmount,a("small",{className:"font-semibold text-2xl text-white",children:"/month"})]})}),a("div",{className:"flex-wrap px-3 mb-2 text-wrap break-words",children:a("h1",{className:"text-white text-lg text-wrap",children:e==null?void 0:e.planDescription})}),o("div",{className:"px-3 py-3",children:[a("h2",{className:"text-lg font-bold text-white",children:"Plan Services:"}),a("ul",{children:e==null?void 0:e.planServices.map((t,r)=>o("li",{className:"mt-3 text-white",children:[t.serviceName&&o(h,{children:[r===0&&a(_,{}),r===1&&a(N,{}),r===2&&a(j,{})]}),o("span",{className:"ml-2",children:[t==null?void 0:t.serviceName," ",t==null?void 0:t.serviceCount,t!=null&&t.serviceCount?" (Weekly)":""]})]},r))})]}),y?"":a("div",{className:"mt-10 px-2 py-2",children:a("button",{className:"w-full bg-color-five text-white py-2 rounded-md shadow-lg",onClick:()=>{var t,r;return M((t=l[s])==null?void 0:t._id,e==null?void 0:e.mentor_id,(r=l[s])==null?void 0:r.planAmount)},children:"Get Started"})})]},s)}))})})};export{X as M};
