import{u as N,r as p,d as w,f as v,g as k,e as r,j as e,F as _,B as u,s as E}from"./index-BH-Ykf6z.js";import{N as j}from"./index-BZKSan8_.js";/* empty css                  */import{C as I}from"./Croper-Bx2F_FVT.js";import{N as S}from"./no-profile-image-7REqqSE_.js";import{z as i,u as D,C,t as F}from"./zod-Cp77Ab6V.js";import{S as L,t as M}from"./mentor.interface-R2qBhHLM.js";import{A as U,T}from"./Autocomplete-IpUf7gA1.js";import"./Toast-8TpPbULq.js";import"./index-BVfO-N0a.js";import"./index-DYTiCvF8.js";/* empty css                     */import"./generateUtilityClasses-HJM5CisE.js";import"./emotion-react.browser.esm-ZdKyTOPI.js";import"./createSvgIcon-BIW1WnVJ.js";import"./createSvgIcon-LLNz0GyT.js";import"./useTimeout-BKMNU8Hp.js";import"./ownerWindow-D1Z5qid2.js";import"./ButtonBase-CvmnLIRN.js";import"./TransitionGroupContext-cleRVXZm.js";import"./index-DshBnzyJ.js";import"./useTheme-lBEU8uLq.js";import"./Grow-CDqEpb2J.js";import"./Popper-Bowr03pz.js";import"./Paper-CYHzPDPT.js";import"./Popper-BZL7fjAJ.js";const c=t=>!/\d/.test(t),B=i.object({first_name:i.string().min(3,{message:"Enter atleast 3 characters"}).max(15,{message:"Keep it below 15 characters"}).refine(t=>t.trim()!=="",{message:"First name should not be empty"}).refine(c,{message:"First name should not contain numbers"}),last_name:i.string().min(3,{message:"Enter atleast 3 characters"}).max(15,{message:"Keep it below 15 characters"}).refine(t=>t.trim()!=="",{message:"Last name should not be empty"}).refine(c,{message:"Numbers are not allowed"}),mentorEmail:i.string().email({message:"Invalid email address"}).refine(t=>t.trim()!=="",{message:"Email should not be empty"}),company:i.string().min(3,{message:"Enter atleast 3 characters"}).max(15,{message:"Keep it below 15 characters"}).refine(t=>t.trim()!=="",{message:"Company is required"}).refine(c,{message:"Numbers are not allowed"}),linkedIn:i.string().url({message:"Invalid LinkedIn URL"}).refine(t=>t.trim()!=="",{message:"Field should not be empty"}).refine(c,{message:"Numbers are not allowed"}),twitter:i.string().url({message:"Invalid Twitter URL"}).refine(t=>t.trim()!=="",{message:"Field should not be empty"}),job_title:i.string().min(3,{message:"Enter atleast 3 characters"}).max(25,{message:"Keep it below 25 characters"}).refine(t=>t.trim()!=="",{message:"Job Title is required"}).refine(c,{message:"Numbers are not allowed"}),bio:i.string().min(150,{message:"Enter atleast 100 characters"}).max(600,{message:"Keep it below 600 characters"}).refine(t=>t.trim()!=="",{message:"Bio should not be empty"}),category:i.string().refine(t=>t.trim()!=="",{message:"Please select a category"}),state:i.string().min(3,{message:"Enter atleast 3 characters"}).max(15,{message:"Keep it below 15 characters"}).refine(t=>t.trim()!=="",{message:"State is required"}).refine(c,{message:"Numbers are not allowed"}),skills:i.array(i.object({title:i.string()}))}),ce=()=>{const t=N(),[o,b]=p.useState(),h=w(),{register:n,handleSubmit:y,control:x,setValue:f,formState:{errors:a}}=D({resolver:F(B),defaultValues:{first_name:"",last_name:"",mentorEmail:"",company:"",linkedIn:"",twitter:"",job_title:"",bio:"",category:"",state:"",skills:[]}});return p.useEffect(()=>{(async()=>{try{const s=await h.get("/mentor/profile",{withCredentials:!0});if(s.data){const l=s.data.mentorDetails;b(l);const d=l.skills.map(g=>({title:g}));f("skills",d),Object.keys(l).forEach(g=>{g!=="skills"&&f(g,l[g])})}}catch(s){console.log(s)}})()},[]),p.useEffect(()=>{const m=o==null?void 0:o.profile_img;if(m){const s=v(E,m);k(s).then(l=>{const d=document.getElementById("profile_img");d.src=l}).catch(l=>{console.log(l)})}},[o==null?void 0:o.profile_img]),r(_,{children:[e(j,{}),e("div",{className:"w-screen h-full bg-background-two text-white",children:r("div",{className:"w-full h-full",children:[e("div",{className:"w-full",children:r("div",{className:"w-full items-center text-center py-4",children:[e("div",{className:"w-full flex justify-center",children:e("img",{alt:"profile_img",className:"w-36 h-36 rounded-full object-cover border-2 border-gray-200",id:"profile_img",src:S})}),e("div",{className:"py-2",children:e(I,{})})]})}),r("form",{className:"flex-col justify-center items-center",onSubmit:y(async m=>{if(m.skills.length>10){u.error("Select atmost 10 skills");return}else if(m.skills.length<5){u.error("Select atleast 5 skills");return}try{const s=await h.post("/mentor/profile/update",{mentorData:m},{withCredentials:!0});s.data.status==="success"&&(u.success(s.data.message),setTimeout(()=>{t("/mentor/profile")},1e3))}catch(s){console.log(s)}}),children:[r("div",{className:"w-full flex flex-col justify-around items-center md:mt-2",children:[r("div",{className:"md:w-full md:flex justify-around items-center",children:[r("label",{children:[e("h1",{className:"text-gray-400",children:"First Name"}),e("input",{type:"text",id:"first_name",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("first_name")}),a.first_name&&e("p",{className:"text-red-500",children:a.first_name.message})]}),r("label",{children:[e("h1",{className:"text-gray-400",children:"Last Name"}),e("input",{type:"text",id:"last_name",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("last_name")}),a.last_name&&e("p",{className:"text-red-500",children:a.last_name.message})]}),r("label",{children:[e("h1",{className:"text-gray-400",children:"Email"}),e("input",{type:"text",id:"email",disabled:!0,className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("mentorEmail")}),a.mentorEmail&&e("p",{className:"text-red-500",children:a.mentorEmail.message})]})]}),r("div",{className:"md:w-full md:flex justify-around items-center",children:[r("label",{children:[e("h1",{className:"text-gray-400",children:"Company"}),e("input",{type:"text",id:"company",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("company")}),a.company&&e("p",{className:"text-red-500",children:a.company.message})]}),r("label",{children:[e("h1",{className:"text-gray-400",children:"LinkedIn"}),e("input",{type:"text",id:"linkedIn",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("linkedIn")}),a.linkedIn&&e("p",{className:"text-red-500",children:a.linkedIn.message})]}),r("label",{children:[e("h1",{className:"text-gray-400",children:"Twitter"}),e("input",{type:"text",id:"twitter",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("twitter")}),a.twitter&&e("p",{className:"text-red-500",children:a.twitter.message})]})]}),r("div",{className:"md:w-full md:flex justify-around items-center",children:[r("label",{children:[e("h1",{className:"text-gray-400",children:"Job Title"}),e("input",{type:"text",id:"job_title",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("job_title")}),a.job_title&&e("p",{className:"text-red-500",children:a.job_title.message})]}),r("label",{children:[e("h1",{className:"text-gray-400",children:"State"}),e("input",{type:"text",id:"state",className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",...n("state")}),a.state&&e("p",{className:"text-red-500",children:a.state.message})]}),r("label",{children:[e("h1",{className:"font-bold",children:"Select Category"}),r("select",{id:"category",...n("category"),className:"bg-gray-800 border-gray-800 text-md rounded-lg w-80 p-2.5",children:[e("option",{value:"null",children:"-------"}),e("option",{value:"Software Development",children:"Software Development"}),e("option",{value:"Engineering & Data",children:"Engineering & Data"}),e("option",{value:"UI & UX Design",children:"UI & UX Design"}),e("option",{value:"Bussiness & Managment",children:"Bussiness & Managment"}),e("option",{value:"Product & Marketing",children:"Product & Marketing"})]}),a.category&&e("p",{className:"text-red-500",children:a.category.message})]})]})]}),e("div",{className:"w-full",children:r("div",{className:"w-full md:px-10",children:[r("div",{className:"px-2 md:px-0",children:[e("label",{htmlFor:"message",className:"block py-2 text-sm font-medium",children:"ABOUT ME"}),e("textarea",{id:"bio",rows:10,...n("bio"),className:"block p-2.5 w-full text-lg rounded-lg focus:border-gray-800 bg-gray-800 text-white"}),a.bio&&e("p",{className:"text-red-500",children:a.bio.message})]}),e("h1",{className:"py-2 font-bold",children:"Update your Skills"}),e("div",{className:"px-1 py-1 bg-gray-300 rounded-md",children:e(L,{spacing:3,className:"text-gray-400",children:e(C,{name:"skills",control:x,render:({field:m})=>e(U,{multiple:!0,id:"tags-standard",options:M,isOptionEqualToValue:(s,l)=>s.title===l.title,getOptionLabel:s=>s.title,value:m.value,onChange:(s,l)=>{m.onChange(l)},filterOptions:(s,{inputValue:l})=>s.filter(d=>d.title.toLowerCase().includes(l.toLowerCase())),renderInput:s=>e(T,{...s,variant:"standard",className:"placeholder:text-white"})})})})}),e("div",{className:"flex justify-end py-4",children:e("button",{type:"submit",className:"text-white font-medium rounded-lg text-sm px-5 py-2.5 bg-color-five",children:"Update"})})]})})]})]})})]})};export{ce as default};
