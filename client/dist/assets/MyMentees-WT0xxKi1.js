import{r as d,d as j,u as N,a as y,j as t,L as n,e as w,s as v,g as _}from"./index-86Yayage.js";import{d as p,a as b}from"./X-Ilj4a8J6.js";import{d as A}from"./VideoChat-sQLJHqXe.js";import{d as k,a as D}from"./Payments-VnsdLa63.js";import{f as I}from"./index--BIcSTSf.js";import{N as $}from"./Navbar-0-KNhTVm.js";import"./generateUtilityClasses-VEjm-6px.js";import"./createSvgIcon-zHam7nvJ.js";import"./createSvgIcon-yiNXXGgx.js";import"./useTimeout-HibEo2wx.js";import"./ownerWindow-X7CmOzzf.js";import"./Toast-dXC0qYzS.js";import"./index-f5koxsUU.js";/* empty css                     */const H=()=>{const[s,f]=d.useState([]),[h,u]=d.useState(!1),m=j(),g=N(),{user:i}=y(e=>e.userAuth);return d.useEffect(()=>{(async()=>{try{const e=await m.get("/mentor/menteeApplications",{withCredentials:!0});e.data.mentorApplication.length>0?f(e.data.mentorApplication):u(!0)}catch(e){console.log(e)}})()},[m]),d.useEffect(()=>{s&&(async()=>{try{const a=await Promise.all(s.map(async r=>{var o;const c=(o=r==null?void 0:r.menteeDetails)==null?void 0:o.profile_img;if(c){const l=w(v,c),x=await _(l);return{...r,profile_img:x}}else return r}));f(a)}catch(a){console.log(a)}})()},[s.length]),d.useEffect(()=>{s&&(s==null||s.map(e=>{(async()=>{await m.post("chat/conversation",{receiverId:e.mentee_id,senderId:i==null?void 0:i._id},{withCredentials:!0})})()}))},[m,s,i==null?void 0:i._id]),t.jsxs(t.Fragment,{children:[t.jsx($,{}),t.jsx("div",{className:"w-full h-full md:h-screen bg-background-two",children:h===!0?t.jsx("div",{className:"w-full h-screen flex justify-center items-center flex-col",children:t.jsx("h1",{className:"text-3xl font-bold text-gray-400",children:"No Mentees have Applied Yet"})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"px-2 md:px-10 md:py-10 w-full",children:[t.jsx("div",{className:"py-5 font-bold text-2xl",children:t.jsx("h1",{className:"text-white",children:"My Mentees"})}),t.jsx("hr",{}),t.jsx("div",{className:"flex flex-col md:flex-row w-full h-full flex-wrap py-3",children:s==null?void 0:s.map((e,a)=>{var r,c,o,l,x;return t.jsx("div",{className:"px-1",children:t.jsxs("figure",{className:"md:w-96 min-h-full rounded-xl p-8 shadow-md md:shadow-lg bg-gray-800 mt-2",children:[t.jsxs("div",{className:"flex",children:[t.jsx("img",{className:"w-24 h-24 rounded-full object-cover",alt:"profile_img",src:e!=null&&e.profile_img?e==null?void 0:e.profile_img:"https://www.pngkey.com/png/full/52-522921_kathrine-vangen-profile-pic-empty-png.png"}),t.jsxs("div",{className:"px-2 py-2 font-bold",children:[t.jsxs("h1",{className:"text-xl text-white",children:[(r=e==null?void 0:e.menteeDetails)==null?void 0:r.first_name,(c=e==null?void 0:e.menteeDetails)==null?void 0:c.last_name]}),t.jsx("h1",{className:"mt-2 uppercase text-sm text-white",children:(o=e==null?void 0:e.menteeDetails)==null?void 0:o.job_title})]})]}),t.jsxs("div",{className:"flex justify-center",children:[t.jsx("a",{href:(l=e==null?void 0:e.menteeDetails)==null?void 0:l.linkedIn,children:t.jsx(p,{className:"text-blue-600"})}),t.jsx("a",{href:(x=e==null?void 0:e.menteeDetails)==null?void 0:x.twitter,className:"ml-10",children:t.jsx(b,{className:"text-gray-400"})})]}),t.jsx("div",{className:"pt-6 space-y-4",children:t.jsxs("figcaption",{children:[t.jsxs("div",{className:"flex justify-around",children:[t.jsx("button",{className:"border px-2 py-2 rounded-md text-black",onClick:()=>{g(`/mentor/mentees/paymentdetails/${e==null?void 0:e._id}`)},children:t.jsx(k,{className:"text-gray-300"})}),t.jsx(n,{to:`/mentor/chat/${e==null?void 0:e.mentee_id}`,className:"border px-2 py-2 rounded-md text-black",children:t.jsx(D,{className:"text-gray-300"})}),t.jsx(n,{to:`/video/${e==null?void 0:e.mentee_id}`,className:"border px-2 py-2 rounded-md text-white",target:"_blank",children:t.jsx(A,{className:"text-gray-300"})})]}),t.jsx("div",{className:"px-3",children:t.jsxs("h1",{className:"py-2 text-md font-bold text-blue-400",children:[30-parseInt(I(e==null?void 0:e.createdAt))," Days Left"]})})]})})]})},a)})})]})})})]})};export{H as default};
