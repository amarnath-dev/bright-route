import{r as d,d as j,u as y,a as N,j as t,L as n,k as v,m as w,l as p}from"./index-g0sAwdL0.js";import{d as _,a as A}from"./X-anDyDIrO.js";import{d as b}from"./VideoChat-LRhkB_vr.js";import{d as k,a as D}from"./Payments-19W6nZns.js";import{f as I}from"./index-M1nQObc9.js";import $ from"./Navbar-EDyPenqm.js";import"./createSvgIcon-aDuf2hYU.js";import"./createSvgIcon-ukait2OE.js";import"./useThemeProps-HKTc5qxQ.js";import"./Toast-nbcniTx-.js";import"./index-cJD9i2rj.js";/* empty css                     */import"./index-CUx-uIXr.js";const G=()=>{const[s,f]=d.useState([]),[h,u]=d.useState(!1),m=j(),g=y(),{user:a}=N(e=>e.userAuth);return d.useEffect(()=>{(async()=>{try{const r=await m.get("/mentor/menteeApplications",{withCredentials:!0});r.data.mentorApplication.length>0?f(r.data.mentorApplication):u(!0)}catch(r){console.log(r)}})()},[m]),d.useEffect(()=>{s&&(async()=>{try{const r=await Promise.all(s.map(async i=>{var o;const c=(o=i==null?void 0:i.menteeDetails)==null?void 0:o.profile_img;if(c){const l=v(w,c),x=await p(l);return{...i,profile_img:x}}else return i}));f(r)}catch(r){console.log(r)}})()},[s.length]),d.useEffect(()=>{s&&(s==null||s.map(e=>{(async()=>{await m.post("chat/conversation",{receiverId:e.mentee_id,senderId:a==null?void 0:a._id},{withCredentials:!0})})()}))},[m,s,a==null?void 0:a._id]),t.jsxs(t.Fragment,{children:[t.jsx($,{}),t.jsx("div",{className:"w-full h-full md:h-screen bg-background-two",children:h===!0?t.jsx("div",{className:"w-full h-screen flex justify-center items-center flex-col",children:t.jsx("h1",{className:"text-3xl font-bold text-gray-400",children:"No Mentees have Applied Yet"})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"px-2 md:px-10 md:py-10 w-full",children:[t.jsx("div",{className:"py-5 font-bold text-2xl",children:t.jsx("h1",{className:"text-gray-400",children:"My Mentees"})}),t.jsx("hr",{}),t.jsx("div",{className:"flex flex-col md:flex-row w-full h-full flex-wrap py-3",children:s==null?void 0:s.map((e,r)=>{var i,c,o,l,x;return t.jsx("div",{className:"px-1",children:t.jsxs("figure",{className:"md:w-96 min-h-full rounded-xl p-8 shadow-md md:shadow-lg bg-gray-800 mt-2",children:[t.jsxs("div",{className:"flex",children:[t.jsx("img",{className:"w-24 h-24 rounded-full object-cover",alt:"profile_img",src:e!=null&&e.profile_img?e==null?void 0:e.profile_img:"https://www.pngkey.com/png/full/52-522921_kathrine-vangen-profile-pic-empty-png.png"}),t.jsxs("div",{className:"px-2 py-2 font-bold",children:[t.jsxs("h1",{className:"text-xl text-gray-400",children:[(i=e==null?void 0:e.menteeDetails)==null?void 0:i.first_name,(c=e==null?void 0:e.menteeDetails)==null?void 0:c.last_name]}),t.jsx("h1",{className:"mt-2 uppercase text-sm text-gray-400",children:(o=e==null?void 0:e.menteeDetails)==null?void 0:o.job_title})]})]}),t.jsxs("div",{className:"flex justify-center",children:[t.jsx("a",{href:(l=e==null?void 0:e.menteeDetails)==null?void 0:l.linkedIn,children:t.jsx(_,{className:"text-blue-600"})}),t.jsx("a",{href:(x=e==null?void 0:e.menteeDetails)==null?void 0:x.twitter,className:"ml-10",children:t.jsx(A,{className:"text-gray-400"})})]}),t.jsx("div",{className:"pt-6 space-y-4",children:t.jsxs("figcaption",{children:[t.jsxs("div",{className:"flex justify-around",children:[t.jsx("button",{className:"border px-2 py-2 rounded-md text-black",onClick:()=>{g(`/mentor/mentees/paymentdetails/${e==null?void 0:e._id}`)},children:t.jsx(k,{className:"text-gray-400"})}),t.jsx(n,{to:`/mentor/chat/${e==null?void 0:e.mentee_id}`,className:"border px-2 py-2 rounded-md text-black",children:t.jsx(D,{className:"text-gray-400"})}),t.jsx(n,{to:`/video/${e==null?void 0:e.mentee_id}`,className:"border px-2 py-2 rounded-md text-white",target:"_blank",children:t.jsx(b,{className:"text-gray-400"})})]}),t.jsx("div",{className:"px-3",children:t.jsx("h1",{className:"py-2 text-gray-400",children:I(e==null?void 0:e.createdAt)})})]})})]})},r)})})]})})})]})};export{G as default};
