import{r as c,d as I,j as a,e as s,F as N,B as _,u as P,L as C,f as $,s as j,g as k}from"./index-BH-Ykf6z.js";import{d as R,a as B}from"./X-J2SlnbD-.js";import{d as E}from"./VideoChat-CTGLVnZg.js";import{d as S,a as T}from"./Payments-C6IV5NvF.js";import{N as D}from"./index-BZKSan8_.js";import{N as F}from"./no-profile-image-7REqqSE_.js";import{M as y}from"./Toast-8TpPbULq.js";import{g as L,c as A,T as H,C as U}from"./generateUtilityClasses-HJM5CisE.js";import{c as q}from"./createBox-Dfbwj2f8.js";import{R as G}from"./Rating-tAD3FrZJ.js";import"./createSvgIcon-BIW1WnVJ.js";import"./createSvgIcon-LLNz0GyT.js";import"./useTimeout-BKMNU8Hp.js";import"./ownerWindow-D1Z5qid2.js";import"./index-BVfO-N0a.js";import"./index-DYTiCvF8.js";/* empty css                     */import"./emotion-react.browser.esm-ZdKyTOPI.js";import"./index-DshBnzyJ.js";const V=L("MuiBox",["root"]),W=V,z=A(),J=q({themeId:H,defaultTheme:z,defaultClassName:W.root,generateClassName:U.generate}),K=J,O=({openModal:f,mentorId:r,setOpenModal:u})=>{const[o,w]=c.useState(0),[n,m]=c.useState(""),p=I(),b=async()=>{if(!n||!o){_.error("All fields are required");return}try{const t=await p.post(`/rate/${r}`,{value:o,experiance:n},{withCredentials:!0});if(t.data.status==="success")_.success(t.data.message),u(!1);else if(t.data.status==="failed"){_.warning("Rating alredy exists");return}}catch(t){console.log(t)}};return a(N,{children:s(y,{show:f,onClose:()=>u(!1),children:[a(y.Header,{children:"Rate the Mentor"}),a(y.Body,{children:s("div",{className:"space-y-6",children:[a("div",{children:s(K,{sx:{"& > legend":{mt:2}},children:[a("h1",{className:"text-white py-2 text-lg",children:"How much would you rate this mentor ?"}),a(G,{className:"bg-white rounded-md",name:"simple-controlled",value:o,onChange:(t,v)=>{w(v)}})]})}),s("div",{className:"w-full",children:[a("h1",{className:"text-white py-2",children:"Tell us about your experiance"}),a("textarea",{name:"experiance",rows:5,value:n,onChange:t=>m(t.target.value),className:"w-full bg-gray-800 rounded-md px-3 py-2 text-white",placeholder:"Write your experiance here"})]})]})}),a(y.Footer,{children:a("div",{className:"w-full flex justify-end",children:a("button",{className:"px-3 py-1 rounded-md text-white bg-teal-600",onClick:b,children:"Submit"})})})]})})},pe=()=>{const f=I(),[r,u]=c.useState([]),[o,w]=c.useState(!1),[n,m]=c.useState(!1),[p,b]=c.useState(""),t=P();c.useEffect(()=>{(async()=>{var e,l;try{const i=await f.get("/my-mentors",{withCredentials:!0});((e=i.data)==null?void 0:e.mentors.length)>0?u((l=i.data)==null?void 0:l.mentors):w(!0)}catch(i){console.log(i)}})()},[f]),c.useEffect(()=>{(async()=>{try{r==null||r.map(l=>{var h;const i=(h=l.mentorProfile[0])==null?void 0:h.profile_img;if(i){const x=$(j,i);k(x).then(d=>{l.newProfileImg=d;const g=document.getElementById("profile_img");g.src=d}).catch(d=>{console.log(d)})}})}catch(l){console.log(l)}})()},[r]);const v=e=>{b(e),m(!0)};return s(N,{children:[a(D,{}),a(O,{openModal:n,mentorId:p||null,setOpenModal:m}),a("div",{className:"w-full h-screen md:h-screen bg-background-two",children:o===!0?s("div",{className:"w-full h-screen flex justify-center items-center flex-col",children:[a("h1",{className:"text-2xl font-bold text-white",children:"Please Apply to a Mentor"}),a(C,{to:"/mentor/browse",className:"mt-5 rounded bg-color-one text-white border px-2 py-1",children:"Find Mentors"})]}):s("div",{className:"px-5 md:px-10 md:py-10",children:[a("div",{className:"py-5 font-bold text-2xl",children:a("h1",{className:"text-white",children:"My Mentors"})}),a("hr",{}),a("div",{className:"flex w-full flex-wrap",children:r==null?void 0:r.map((e,l)=>{var i,h,x,d,g,M;return a(N,{children:e.isExpired?"":a(N,{children:a("div",{children:s("figure",{className:"md:w-96 min-h-full rounded-xl p-8 shadow-lg mt-2 ml-2 bg-gray-800",children:[s("div",{className:"flex cursor-pointer",onClick:()=>t(`/mentor-profile/${e==null?void 0:e.mentor_id}`),children:[a("img",{className:"w-24 h-24 rounded-full object-cover",id:"profile_img",src:(i=e==null?void 0:e.mentorProfile[0])!=null&&i.profile_img?e==null?void 0:e.mentorProfile[0].profile_img:F}),s("div",{className:"px-2 py-2 font-bold",children:[s("h1",{className:"text-xl text-white",children:[(h=e==null?void 0:e.mentorProfile[0])==null?void 0:h.first_name,(x=e==null?void 0:e.mentorProfile[0])==null?void 0:x.last_name]}),a("h1",{className:"mt-2 uppercase text-sm text-white",children:(d=e==null?void 0:e.mentorProfile[0])==null?void 0:d.job_title})]})]}),s("div",{className:"flex justify-center",children:[a("a",{href:(g=e==null?void 0:e.mentorProfile[0])==null?void 0:g.linkedIn,children:a(R,{className:"text-blue-500"})}),a("a",{href:(M=e==null?void 0:e.mentorProfile[0])==null?void 0:M.twitter,className:"ml-10",children:a(B,{className:"text-gray-300"})})]}),a("div",{className:"pt-6 space-y-4",children:s("figcaption",{children:[s("div",{className:"flex justify-around",children:[a("button",{className:"border px-2 py-2 rounded-md text-black",onClick:()=>{t(`/my-mentors/paymentDetails/${e==null?void 0:e._id}`)},children:a(S,{className:"text-gray-300"})}),a(C,{to:`/chat/${e==null?void 0:e.mentor_id}`,className:"border px-2 py-2 rounded-md text-gray-300",children:a(T,{})}),a(C,{to:`/video/${e==null?void 0:e.mentor_id}`,className:"border px-2 py-2 rounded-md text-gray-300",target:"_blank",children:a(E,{})})]}),s("div",{className:"px-3 flex justify-between",children:[a("h1",{className:"py-2 font-bold text-blue-400",children:"30 Days Left"}),a("button",{className:"text-blue-500",onClick:()=>v(e==null?void 0:e.mentor_id),children:"Rate Mentor"})]})]})})]},l)},l)})})})})]})})]})};export{pe as default};
