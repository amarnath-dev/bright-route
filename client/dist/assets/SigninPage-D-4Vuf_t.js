import{r as g,d as y,y as w,u as N,a as v,j as e,F as m,e as t,L as h,H as k,B as i,M as j}from"./index-BH-Ykf6z.js";import{u as S,t as D}from"./zod-Cp77Ab6V.js";import{l as M}from"./loginSchema-BOP92CMD.js";import{G as E}from"./index-ixm9MRnI.js";const F=()=>{const[b,f]=g.useState(!1),p=y(),u=w(),l=N(),{user:s}=v(o=>o.userAuth);g.useEffect(()=>{(async()=>{try{(await p.get("/checkToken",{withCredentials:!0})).data.status==="exists"?((s==null?void 0:s.role)==="mentee"&&l("/"),(s==null?void 0:s.role)==="mentor"&&(console.log("Navigating"),l("/mentor/home")),(s==null?void 0:s.role)==="admin"&&l("/admin/dashboard")):console.log("User not logged In")}catch(r){console.error("Error checking token:",r)}})()},[p,l,s==null?void 0:s.role]);const{register:d,handleSubmit:x,formState:{errors:a}}=S({resolver:D(M)});return e(m,{children:b?e(m,{children:e("div",{className:"w-full h-screen bg-background-two",children:e("div",{className:"flex justify-center items-center h-full",children:t("form",{onSubmit:x(async o=>{try{const n=(await u(j(o))).payload;n.status==="success"?l("/mentor/home"):i.error(n.message)}catch(r){typeof r=="string"&&console.log(r)}}),className:"border border-gray-500 py-12 px-5 rounded-md",children:[t("div",{className:"flex",children:[e("h1",{className:"text-md px-4 py-1 md:py-0 md:px-0 md:text-2xl font-bold mb-5 text-white",children:"Log in as Mentor"}),e("button",{onClick:()=>f(!1),type:"button",className:"text-md px-5 py-1 md:px-0 md:py-0 md:text-xl h-8 font-bold text-color-five md:ml-12 underline",children:"I am a Mentee"})]}),e("label",{className:"flex justify-center",children:e("input",{className:"placeholder:text-slate-400 block border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-md focus:outline-none bg-gray-800 text-gray-300 focus:border-dark-500 focus:ring-dark-500 focus:ring-1 w-72 md:w-96 sm:text-lg",placeholder:"Email",type:"email",...d("email")})}),e("div",{className:"flex flex-col",children:a.email&&t("small",{className:"text-red-600 text-sm italic",children:["*",a.email.message]})}),e("label",{className:"flex justify-center flex-row",children:e("input",{className:"placeholder:text-slate-400 block border border-slate-300 bg-gray-800 text-gray-400 rounded-md mt-4 py-2 pl-9 pr-3 shadow-md focus:outline-none focus:border-dark-500 focus:ring-dark-500 focus:ring-1 w-72 md:w-96 sm:text-lg",placeholder:"Password",type:"password",...d("password")})}),e("div",{className:"flex flex-col",children:a.password&&t("small",{className:"text-red-600 text-sm italic",children:["*",a.password.message]})}),e("br",{}),e("div",{className:"flex justify-center",children:e("button",{type:"submit",className:"border-1 border-slate-300 mt-2 bg-color-five text-white rounded-md font-bold py-2 w-72 md:w-96 sm:text-lg",children:"Signin"})}),e("div",{className:"flex justify-center",children:t("h1",{className:"mt-3 text-white",children:["Don’t have an account?",e(h,{to:"/signup",className:"ml-2 text-color-five font-bold",children:"Signup"})]})}),t("div",{className:"text-white text-center p-2",children:[e("h6",{children:"Demo User"}),t("p",{children:["Email : ",e("strong",{children:"amaranthas234@gmail.com"})]}),t("p",{children:["Password : ",e("strong",{children:"Amarn@123"})]})]})]})})})}):e(m,{children:e("div",{className:"w-full h-screen bg-background-two",children:e("div",{className:"flex justify-center items-center h-full py-16",children:t("form",{onSubmit:x(async o=>{try{const r=await u(k(o));if(r){const n=r.payload;if(n.status==="success"){const c=n.user;c.role==="mentee"?l("/"):(c==null?void 0:c.role)==="mentor"?i.error("Canno't Find Email"):c.role==="admin"&&i.error("Canno't Find Email")}else i.error(n.message)}}catch(r){console.log(r)}}),className:"border border-gray-500 py-12 px-5 rounded-md",children:[t("div",{className:"flex",children:[e("h1",{className:"text-md px-4 py-1 md:py-0 md:px-0 md:text-2xl font-bold mb-5 text-white",children:"Log in as Mentee"}),e("button",{type:"button",className:"text-md px-5 py-1 md:px-0 md:py-0 md:text-xl h-8 font-bold text-color-five md:ml-12 underline",onClick:()=>f(!0),children:"I am a Mentor"})]}),e("label",{className:"flex justify-center",children:e("input",{className:"placeholder:text-slate-400 block border border-slate-300 bg-gray-800 text-gray-300 rounded-md py-2 pl-9 pr-3 shadow-md focus:outline-none focus:border-dark-500 focus:ring-dark-500 focus:ring-1 w-72 md:w-96 sm:text-lg",placeholder:"Email",type:"email",...d("email")})}),e("div",{className:"flex flex-col",children:a.email&&t("small",{className:"text-red-600 text-sm italic",children:["*",a.email.message]})}),e("label",{className:"flex justify-center flex-row",children:e("input",{className:"placeholder:text-slate-400 block border border-slate-300 bg-gray-800 text-gray-300 rounded-md mt-4 py-2 pl-9 pr-3 shadow-md focus:outline-none focus:border-dark-500 focus:ring-dark-500 focus:ring-1 w-72 md:w-96 sm:text-lg",placeholder:"Password",type:"password",...d("password")})}),e("div",{className:"flex flex-col",children:a.password&&t("small",{className:"text-red-600 text-sm italic",children:["*",a.password.message]})}),e("br",{}),e("div",{className:"flex justify-center",children:e("button",{type:"submit",className:"border-1 border-slate-300 bg-color-five text-white rounded-md font-bold py-2 w-72 md:w-96 sm:text-lg",children:"Signin"})}),e("div",{className:"mt-2",children:e(h,{to:"/forgotpassword",className:"text-blue-500 underline",children:"Forgot Password?"})}),e("div",{className:"mt-3 flex justify-center items-center",children:e(E,{})}),e("div",{className:"flex justify-center",children:t("h1",{className:"mt-3 text-gray-300 text-lg font-bold",children:["Don’t have an account?",e(h,{to:"/signup",className:"ml-2 text-color-five font-bold underline",children:"Signup"})]})})]})})})})})},U=()=>e(m,{children:e(F,{})});export{U as default};
